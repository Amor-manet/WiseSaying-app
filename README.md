# 명언 앱 (WiseSaying App)

명언 앱은 사용자가 명언과 작가를 등록, 수정, 삭제할 수 있으며, 저장된 명언 목록을 조회하거나 빌드하는 기능을 제공합니다. 이 앱은 간단한 파일 저장소를 기반으로 동작하며 JSON 형식으로 데이터를 관리합니다.

---

## 🛠 클래스 목록 및 역할

### 1. `Main`
- 프로그램의 진입점으로 `App` 클래스를 실행합니다.

### 2. `App`
- 명언 앱의 메인 루프를 실행합니다.
- 사용자 명령어를 입력받아 `WiseSayingController`에 전달합니다.
- 전역 예외 처리를 통해 오류를 관리합니다.

### 3. `WiseSayingController`
- 사용자와 상호작용을 담당합니다.
- 명령어를 입력받아 `WiseSayingService`를 호출합니다.
- 등록, 삭제, 수정, 목록, 빌드 명령어를 처리합니다.

### 4. `WiseSayingService`
- 앱의 핵심 비즈니스 로직을 처리합니다.
- 명언을 저장소에 등록, 수정, 삭제하거나 목록을 가져옵니다.
- ID 생성 및 관리, 빌드 기능을 수행합니다.

### 5. `WiseSayingRepository`
- 파일 시스템과 상호작용합니다.
- 명언 데이터를 JSON 파일로 저장, 삭제, 읽어옵니다.
- 빌드된 데이터 파일을 생성하고 저장합니다.

### 6. `WiseSaying`
- 명언 데이터를 저장하는 클래스입니다.
- `ID`, `명언`, `작가`의 정보를 포함합니다.
- JSON 직렬화를 위해 기본 생성자를 제공합니다.

### 7. `IdService`
- 명언의 ID를 생성하고 저장, 관리합니다.
- 저장소를 통해 마지막 ID를 불러오거나 새로운 ID를 생성합니다.

### 8. `ExceptionHandler`
- 런타임 중 발생하는 예외를 처리합니다.
- 명확한 메시지를 사용자에게 출력합니다.

---

## 🌟 주요 기능 및 동작 원리

### 1. **등록**
- 명언과 작가를 입력받아 저장소에 저장합니다.
- ID가 자동 생성되며, 성공 메시지가 출력됩니다.

### 2. **삭제**
- 삭제할 명언의 ID를 입력받아 저장소에서 삭제합니다.
- 성공적으로 삭제되면 확인 메시지를 출력합니다.

### 3. **수정**
- 수정할 명언의 ID를 입력받고, 기존 데이터를 수정합니다.
- 수정된 내용이 저장되며, 성공 메시지가 출력됩니다.

### 4. **목록**
- 저장소에서 빌드된 `data.json` 파일을 읽어와 목록을 출력합니다.
- 비어 있는 경우 적절한 메시지를 출력합니다.

### 5. **빌드**
- 모든 명언 데이터를 정렬하여 `data.json` 파일로 저장합니다.

---

## 📁 저장소 구조

- 명언 데이터는 `db/wiseSaying/` 디렉토리에 JSON 파일로 저장됩니다.
   - 개별 파일: `{id}.json`
   - 빌드 파일: `data.json`
- 마지막으로 생성된 ID는 `lastId.txt`에 저장됩니다.

---

## 🔒 예외 처리

1. **잘못된 입력값**:
   - 음수 ID, 빈 값 등 잘못된 입력값에 대해 즉시 예외가 발생하며, 다시 입력을 요청합니다.
2. **파일/JSON 오류**:
   - 저장소에 존재하지 않는 파일을 요청하거나 JSON 파싱 오류 발생 시 상세 메시지를 출력합니다.
3. **전역 예외 처리**:
   - 모든 예외를 런타임 예외로 관리하며, 프로그램이 중단되지 않도록 설계합니다.

---

## 🖥 실행 화면 예시

```plaintext
== 명언 앱 ==
명령어를 입력하세요 (등록, 삭제, 수정, 목록, 빌드, 종료): 등록
명언을 입력하세요: 실패는 성공의 어머니
작가를 입력하세요: 속담
1번 명언이 성공적으로 등록되었습니다.

== 명언 앱 ==
명령어를 입력하세요 (등록, 삭제, 수정, 목록, 빌드, 종료): 목록
 번호 /     명언      /   작가  
 1 / 실패는 성공의 어머니 / 실패마스터

== 명언 앱 ==
명령어를 입력하세요 (등록, 삭제, 수정, 목록, 빌드, 종료): 종료
프로그램을 종료합니다.